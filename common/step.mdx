---
title: 'Step-by-Step Guide'
description: 'Follow our step-by-step guide to perform your first 2.5D inversion with Astrape.'
icon: 'shoe-prints'

---

<Steps>
  <Step title="Start Ray">
    Set up a Ray head node with the following command: 
    ```
    ray start --head
    ```
    To attach additional nodes to this cluster, run the following command on those servers:
    ```
    ray start --address='IP_ADDRESS:6379'
    ```
    <Warning>Replace 'IP_ADDRESS' with the one displayed from the output of the `ray start --head` command.</Warning>
  </Step>

  <Step title="Set Up Folder Structure">
    Create a folder for the inversion, including a subfolder named 'data' for input files. See the [survey folder structure page](/common/structure) and the [data subfolder page](/common/data_subfolder) for more details.
    ```
    survey_project/
    ├── data/
    ```
    <Tip>Ensure all necessary files are correctly placed in the `data` subfolder to avoid issues during the inversion process. See the [survey folder structure page](/common/structure) and the [data subfolder page](/common/data_subfolder) for more details. </Tip>
  </Step>

  <Step title="Prepare System Configuration File">
    Prepare the system configuration file, which defines how to read the data and specifies the airborne EM system. Refer to the [data subfolder page](/common/data_subfolder) for details.
  </Step>

  <Step title="Preprocessing">
    Perform preprocessing, which includes system configuration validation, default configuration file generation, and data validation/preparation, with the command:
    ```
    python astrape/run/preprocess.py /path_to_survey_folder
    ```
    <Warning>Ensure the 'path_to_survey_folder' is correct. Incorrect paths or data can lead to errors.</Warning>
  </Step>

  <Step title="Modify Configuration Files">
    Review and modify the default configuration files. Refer to the [survey configuration page](/configuration/survey), [discretization configuration page](/configuration/discretization), [inversion configuration page](/configuration/inversion), and [model configuration page](/configuration/model) for details.
  </Step>

  <Step title="Run Inversion">
    Run the inversion with the following command for 3D inversions:
    ```
    python astrape/run/three_dim.py /path_to_survey_folder
    ```
    or the following command for 2.5D inversions:
    ```
    python astrape/run/two_dim.py /path_to_survey_folder
    ```
    <Warning>The inversion process may take significant time based on the survey lines, parameters, and hardware. </Warning>
    Monitor progress by checking the `inversion` folder for intermediate data or the `ray` dashboard. See our [Ray explainer](/essentials/ray) for accessing the dashboard.
  </Step>

  <Step title="Postprocessing">
    After the inversion, perform postprocessing to generate final deliverables with the following command for 3D inversions:
    ```
    python astrape/run/postprocess.py /path_to_experiment_folder -d 3d
    ```
    or the following command for 2.5D inversions:
    ```
    python astrape/run/postprocess.py /path_to_experiment_folder -d 2d
    ```
    Check the `deliverables` folder for the final results including reports and visualizations.
    <Warning> For the postprocessing step, the path should be the path to the experiment folder, not the survey folder.</Warning> 
    <Warning> Note that for the postprocessing step, the -d flag is required to specify the dimensionality of the inversion.</Warning>
  </Step>
</Steps>
